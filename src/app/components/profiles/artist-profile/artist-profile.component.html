<!-- artist-profile.component.html -->
<div class="artist-profile">
  <h2>Artist Profile</h2>
  <form [formGroup]="artistForm" (ngSubmit)="onSubmit()">
    <div *ngIf="isEditing">
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput formControlName="name">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput formControlName="email">
      </mat-form-field>
      <mat-form-field>
        <mat-label>City</mat-label>
        <input matInput formControlName="city">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Bio</mat-label>
        <textarea matInput formControlName="bio"></textarea>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Genre</mat-label>
        <input matInput formControlName="genre">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Experience Level</mat-label>
        <input matInput formControlName="experienceLevel">
      </mat-form-field>
      <div formGroupName="contactInfo">
        <mat-form-field>
          <mat-label>Contact Info (Social Media)</mat-label>
          <textarea matInput formControlName="contact"></textarea>
        </mat-form-field>
      </div>
      <div>
        <label>Profile Photo</label>
        <input type="file" (change)="onPhotoUpload($event, 'profile')">
        <img [src]="artistForm.get('profilePhotoUrl')?.value" alt="Profile Photo">
      </div>
      <div>
        <label>Featured Work Photo</label>
        <input type="file" (change)="onPhotoUpload($event, 'featured')">
        <img [src]="artistForm.get('featuredWorkPhotoUrl')?.value" alt="Featured Work Photo">
      </div>
      <button mat-raised-button color="primary" type="submit">Save</button>
      <button mat-raised-button color="warn" (click)="toggleEdit()">Cancel</button>
    </div>
    <div *ngIf="!isEditing">
      <p><strong>Name:</strong> {{ artist.name }}</p>
      <p><strong>Email:</strong> {{ artist.email }}</p>
      <p><strong>City:</strong> {{ artist.city }}</p>
      <p><strong>Bio:</strong> {{ artist.bio }}</p>
      <p><strong>Genre:</strong> {{ artist.genre }}</p>
      <p><strong>Experience Level:</strong> {{ artist.experienceLevel }}</p>
      <div>
        <p><strong>Profile Photo:</strong></p>
        <img [src]="artist.profilePhotoUrl" alt="Profile Photo">
      </div>
      <div>
        <p><strong>Featured Work Photo:</strong></p>
        <img [src]="artist.featuredWorkPhotoUrl" alt="Featured Work Photo">
      </div>
      <button mat-raised-button color="accent" (click)="toggleEdit()">Edit Profile</button>
    </div>
  </form>

  <h3>Portfolios</h3>
  <div *ngFor="let portfolio of portfolios.controls; let i = index">
    <p><strong>Portfolio {{ i + 1 }}:</strong></p>
    <a [href]="portfolio.value.url" target="_blank">{{ portfolio.value.url }}</a>
    <p><strong>Type:</strong> {{ portfolio.value.type }}</p>
  </div>

  <div>
    <label>Upload Portfolio (Image)</label>
    <input type="file" (change)="onPortfolioUpload($event, 'image')">
  </div>
  <div>
    <label>Upload Portfolio (Document)</label>
    <input type="file" (change)="onPortfolioUpload($event, 'document')">
  </div>
  <div>
    <label>Upload Portfolio (Video)</label>
    <input type="file" (change)="onPortfolioUpload($event, 'video')">
  </div>
</div>
